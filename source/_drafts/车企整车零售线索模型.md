---
title: 车企整车零售线索模型  
date: 2022-08-26 12:31:00  
tags: 
    - DDD
categories: 
    - DDD
---

最早在17、18年的时候，做了大约一年多的车企厂商系统 —— 经销商线索管理服务。    
时隔几年，再次接触到线索管理，不同的是：这次的线索管理虽依然是厂商的系统，但包含了厂商线索、门店线索，门店线索又分经销商门店、直营门店。  

用领域知识来描述的话， 在汽车销售领域，目前存在以下几种主要的销售模式：
 - 1. 传统经销商模式；
 - 2. 线上销售模式；
 - 3. 直营模式；
 - 4. 车辆订阅模式；
销售线索管理在这四种模式中，都是重要的一个子域，在不同模式中的区别 —— 主要在于获客渠道和销售渠道的不同。
本文主要讲的就是线索管理中的经销商模式和直营模式，因此会出现`厂商线索`、`经销商门店线索`、`直营门店线索`这些关键词。

线索管理从根本上来说，每一个流程和环节都是为了提升客户转化率，最终达成交易。  
主要业务流程包括以下几个步骤：
- 1. 潜在客户注册：潜在客户可以通过网站、电话、短信、线下活动等方式注册成为线索客户，并提交相关信息，例如姓名、联系方式、车型偏好等。
- 2. 线索跟进：线索管理员会根据线索客户的信息，及时与其联系，了解客户需求，介绍产品信息，解答疑问，促成销售。
- 3. 销售机会创建：当线索管理员确定客户有购车意向时，可以将线索转化为销售机会，并将客户信息和需求记录在销售机会中，为后续销售活动做好准备。
- 4. 销售流程跟进：销售人员会根据销售机会中的客户信息和需求，制定相应的销售计划和方案，与客户沟通和协商，促成销售。
- 5. 销售成功：当客户确认购车并完成交易后，销售人员会将销售成功的信息记录在系统中，并对客户进行跟进，提高客户满意度。
从上下游关系来看，厂商进行“线索收集”至“线索分配”，目标是将销售机会推入到可进店接待的阶段；接下来，门店完成线索的线下跟进等一系列活动，目标是促成销售和车辆交付。  
如果车企仅有直营这一种模式，宏观上这就是一个比较简单的流程，看起来是同一个问题域，一个线索模型就可以搞定了。  
![leads-simple](./车企整车零售线索模型/leads-simple.png)

然而当前现状，车企大部分都是直营和经销两种共存的混杂模式。  
还有部分车企的经销商并不依赖厂商进行线索管理，即便依赖了厂商的线索管理系统，对线索的权限归属和流程控制也与直营门店有不同的诉求。  
因此，看上去就变成了一横一纵 两块问题子域。
改进一下上面的简图，如下：  
![leads-complex](./车企整车零售线索模型/leads-complex.png)  
横向，厂商与直营门店共用一个线索池，在线索生命周期中，厂商和直营门店是上下游的关系。  
纵向，销售模式的区别造成 —— 经销门店区别于直营门店，与厂商对于线索的销售机会更偏向自由合作的方式，并且经销门店也可保留自己的线索来源、获客方式。  
或者，也有人会说这里应该是 三块问题子域。其实也对。  

如果要提供解决方案的话，我们的领域和模型应该如何划分呢？如果要用微服务实现的话，应该是几个线索领域模型呢？  
这个问题，当我拿到现有代码，需要在一个微服务中同时实现线索从厂商到经销门店、从厂商到直营门店线索的业务流程时，陷入了沉默。  
毫无疑问，从更大的 `销售上下文` 中来看，`线索` 是一个统一且独立的领域定义。  
但可惜这个过大的定义，对于指导方案落地、设计和构建应用而言，并没有太大实质性的意义。
通过和项目同事的流程梳理和交流讨论，最终确认了 3 个子领域模型，分别是 厂商线索、经销商门店线索、直营门店线索。  
![3_models](./车企整车零售线索模型/3_models.png)  

### 1. 拆分成3个领域模型的原因
通过领域事件的方式，将线索管理的过程粗略的展示如下：
![leads-flow](./车企整车零售线索模型/lead.png)  

### 2. 在同一个微服务中实现 3 个线索模型的方式

### 3. 扩展成 3 个微服务行不行？2个呢？

